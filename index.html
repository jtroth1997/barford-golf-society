<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Barford Golf Society | Home</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --accent:#d4af37; --dark:#111; --charcoal:#222; --white:#fff; --radius:12px; --shadow:0 8px 24px rgba(0,0,0,.2);
}
body{margin:0;font-family:"Inter",sans-serif;color:var(--white);background:var(--dark);}
.site-header{background:var(--charcoal);padding:18px 24px;position:sticky;top:0;z-index:1000;box-shadow:0 2px 10px rgba(0,0,0,.5);}
.header-container{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;}
.site-title{margin:0;font-size:1.8rem;font-weight:700;color:var(--accent);}
.site-nav ul{list-style:none;display:flex;gap:24px;margin:0;padding:0;}
.site-nav a{text-decoration:none;color:var(--white);font-weight:600;transition:color .2s;}
.site-nav a:hover,.site-nav a.active{color:var(--accent);}

/* Hero background slideshow */
.hero{position:relative;width:100%;height:75vh;min-height:450px;overflow:hidden;background:var(--dark);}
.hero img{
  position:absolute;
  top:50%;
  left:50%;
  width:100%;
  height:100%;
  object-fit:contain; /* keep full image visible */
  transform:translate(-50%,-50%);
  opacity:0.25;       /* subtle background */
  transition:opacity 1s ease-in-out;
}
.hero img.active{opacity:0.25;}
.hero-overlay{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:0 20px;z-index:2;}
.hero-overlay h2{font-size:3rem;margin:0 0 12px;font-weight:700;color:var(--white);}
.hero-overlay p{font-size:1.25rem;margin:0 0 24px;color:rgba(255,255,255,0.9);}
.btn{display:inline-block;text-decoration:none;padding:14px 28px;border-radius:var(--radius);font-weight:700;color:var(--dark);background:var(--accent);margin:10px;transition:all .3s ease-in-out;}
.btn:hover{filter:brightness(1.1);}

.container{max-width:1100px;margin:60px auto;padding:0 20px;}
.section-title{color:var(--accent);font-size:1.8rem;margin-bottom:20px;text-align:center;}
.card{background:var(--charcoal);border-radius:var(--radius);box-shadow:var(--shadow);padding:30px;color:var(--white);margin-bottom:40px;}
.next-event{text-align:center;}
.highlights{display:grid;gap:30px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));margin-top:40px;}
.highlight{background:var(--charcoal);padding:30px;border-radius:var(--radius);text-align:center;}
.highlight h4{color:var(--accent);margin-bottom:10px;font-size:1.3rem;}
.highlight p{color:#bbb;}
footer{text-align:center;padding:40px 0;color:#888;font-size:.9rem;background:var(--charcoal);}
@media(max-width:800px){.hero-overlay h2{font-size:2.2rem;}.hero-overlay p{font-size:1rem;}}
</style>
</head>
<body>
<header class="site-header">
  <div class="header-container">
    <h1 class="site-title">Barford Golf Society</h1>
    <nav class="site-nav">
      <ul>
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="events.html">Events</a></li>
        <li><a href="scores.html">Scores</a></li>
        <li><a href="gallery.html">Gallery</a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="hero" id="heroSlideshow">
  <div class="hero-overlay">
    <h2>Welcome to Barford Golf Society</h2>
    <p>Great golf. Great company. A season-long journey across fantastic courses.</p>
    <a class="btn" href="events.html">View Events</a>
    <a class="btn" href="scores.html">Enter Scores</a>
    <a class="btn" href="gallery.html">Member Gallery</a>
  </div>
</div>

<div class="container">
  <div class="card next-event" id="nextEventCard">
    <h3 class="section-title">Next Event</h3>
    <p class="muted" id="nextEventEmpty">No upcoming events yet.</p>
    <div id="nextEventContent" style="display:none">
      <h4 id="neName"></h4>
      <p><strong>Date:</strong> <span id="neDate"></span></p>
      <p><strong>Location:</strong> <span id="neLoc"></span></p>
      <p><strong>Price:</strong> <span id="nePrice"></span></p>
      <a class="btn" href="events.html">RSVP Now</a>
    </div>
  </div>

  <h3 class="section-title">Why Our Society Matters</h3>
  <div class="highlights">
    <div class="highlight"><h4>Exclusive Community</h4><p>Join like-minded members across premium courses.</p></div>
    <div class="highlight"><h4>Engaging Formats</h4><p>Competition formats that are fair and fun.</p></div>
    <div class="highlight"><h4>Member Gallery</h4><p>Browse member photos capturing memorable moments.</p></div>
    <div class="highlight"><h4>Stay Connected</h4><p>Keep up with events, results and socials.</p></div>
  </div>
</div>

<footer><p>Â© 2025 Barford Golf Society</p></footer>

<script type="module">
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

const SUPABASE_URL = 'https://tzzkgfehtnuizamzlbgr.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6emtnZmVodG51aXphbXpsYmdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0MzY5ODAsImV4cCI6MjA3ODAxMjk4MH0.2mf4RMbJJvPo0NApywlrDyHuqAMfMyEWxgOS2ZSP4KQ';
const BUCKET = 'gallery-images';
const PATH = 'uploads/';
const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

let gallery = [], currentIndex = 0;
const hero = document.getElementById('heroSlideshow');

function renderHero() {
  hero.querySelectorAll('img').forEach(e=>e.remove());
  if(!gallery.length) return;
  const img = document.createElement('img');
  img.src = gallery[currentIndex].url;
  img.classList.add('active');
  hero.appendChild(img);
}
function nextSlide(){ if(!gallery.length)return; currentIndex=(currentIndex+1)%gallery.length; renderHero(); }

async function loadGallery() {
  const { data: objects, error } = await supabase.storage.from(BUCKET).list(PATH, { limit:1000 });
  if(error){ console.error(error); return; }
  gallery = objects.filter(f=>!f.name.endsWith('/')).map(f=>({ url: supabase.storage.from(BUCKET).getPublicUrl(PATH+f.name).data.publicUrl }));
  if(gallery.length) renderHero();
  setInterval(nextSlide, 7000); // slow-motion
}
loadGallery();
</script>
</body>
</html>
