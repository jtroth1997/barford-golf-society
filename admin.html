<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin | Barford Golf Society</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://unpkg.com/@supabase/supabase-js"></script>
<style>
:root{
  --green:#005a2b;--gold:#d4af37;--light-bg:#f7f7f5;--card:#fff;
}
body{font-family:"Inter",sans-serif;margin:0;background:var(--light-bg);color:#1b1b1b;}
header,footer{background:var(--green);color:#fff;padding:15px 0;}
.header-container{display:flex;justify-content:space-between;align-items:center;max-width:1100px;margin:0 auto;padding:0 20px;}
.site-title{color:var(--gold);}
.site-nav ul{list-style:none;display:flex;gap:20px;margin:0;padding:0;}
.site-nav a{color:#fff;text-decoration:none;font-weight:600;}
.site-nav a:hover,.active{color:var(--gold);}
.container{max-width:1100px;margin:40px auto;padding:0 20px;}
.card{background:var(--card);padding:20px;border-radius:10px;margin-bottom:20px;box-shadow:0 3px 8px rgba(0,0,0,0.1);}
.hidden{display:none;}
button{background:var(--green);color:#fff;font-weight:600;padding:8px 16px;border:none;border-radius:6px;cursor:pointer;}
button:hover{background:#0a6b34;}
input[type="password"],select{padding:8px;border-radius:6px;border:1px solid #ccc;font-family:inherit;}
footer{text-align:center;color:var(--gold);border-top:4px solid var(--gold);margin-top:40px;padding:20px;}
h2{color:var(--green);}
.notice{background:#fffbe0;border:1px solid #d4af37;padding:10px;border-radius:6px;margin-bottom:10px;}
</style>
</head>
<body>

<header class="site-header">
  <div class="header-container">
    <h1 class="site-title">Barford Golf Society</h1>
    <nav class="site-nav">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="events.html">Events</a></li>
        <li><a href="scores.html">Scores</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="admin.html" class="active">Admin</a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="container">
  <h2>Admin Dashboard</h2>

  <!-- Admin Login -->
  <div id="adminLogin" class="card">
    <h3>RSVP Manager Login</h3>
    <input type="password" id="adminPw" placeholder="Enter admin password">
    <button id="adminUnlockBtn">Unlock</button>
  </div>

  <!-- RSVP Manager Section -->
  <div id="adminSection" class="card hidden">
    <h3>RSVP Manager</h3>
    <p>Welcome to the RSVP Management area. From here you’ll be able to view event RSVPs, see who’s attending, and manage entries.</p>
    <button id="openTeeSectionBtn">Go to Tee Time Organiser</button>
  </div>

  <!-- Tee Time Login -->
  <div id="teeLogin" class="card hidden">
    <h3>Tee Time Organiser Login</h3>
    <input type="password" id="teePw" placeholder="Enter organiser password">
    <button id="teeUnlockBtn">Unlock</button>
  </div>

  <!-- Tee Time Section -->
  <div id="teeSection" class="card hidden">
    <h3>Tee Time Organiser</h3>
    <p>This area allows you to generate and manage tee times for each event.</p>
    <div id="teeContent">
      <!-- Your tee time generator code will go here -->
    </div>
  </div>
</div>

<footer><p>© 2025 Barford Golf Society</p></footer>

<script>
const SUPABASE_URL = "https://tzzkgfehtnuizamzlbgr.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6emtnZmVodG51aXphbXpsYmdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0MzY5ODAsImV4cCI6MjA3ODAxMjk4MH0.2mf4RMbJJvPo0NApywlrDyHuqAMfMyEWxgOS2ZSP4KQ";
const { createClient } = window.supabase;
const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

const ADMIN_PW = "westbrom1997";
const TEE_PW = "oxford1";

document.addEventListener("DOMContentLoaded", () => {
  const adminLogin = document.getElementById("adminLogin");
  const adminSection = document.getElementById("adminSection");
  const teeLogin = document.getElementById("teeLogin");
  const teeSection = document.getElementById("teeSection");

  // Always start locked
  adminSection.classList.add("hidden");
  teeLogin.classList.add("hidden");
  teeSection.classList.add("hidden");

  // --- Admin Unlock ---
  document.getElementById("adminUnlockBtn").addEventListener("click", () => {
    const pw = document.getElementById("adminPw").value.trim();
    if (pw === ADMIN_PW) {
      adminLogin.classList.add("hidden");
      adminSection.classList.remove("hidden");
      alert("✅ Admin access granted!");
    } else {
      alert("❌ Incorrect admin password");
    }
  });

  // --- Navigate to Tee Login ---
  document.getElementById("openTeeSectionBtn").addEventListener("click", () => {
    adminSection.classList.add("hidden");
    teeLogin.classList.remove("hidden");
  });

  // --- Tee Time Unlock ---
  document.getElementById("teeUnlockBtn").addEventListener("click", () => {
    const pw = document.getElementById("teePw").value.trim();
    if (pw === TEE_PW) {
      teeLogin.classList.add("hidden");
      teeSection.classList.remove("hidden");
      alert("✅ Tee Time Organiser access granted!");
    } else {
      alert("❌ Incorrect tee organiser password");
    }
  });
});
</script>
</body>
</html>
